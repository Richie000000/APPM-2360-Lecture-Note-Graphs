xlim = c(-5, 3.2)
)
plot_direction_field(c(-5, 5), c(-3, 3), diff_eq, "y' = y") +
geom_function(
fun = example_solution_1,
aes(color = "12"),
col = "green4",
xlim = c(-5, 0.5)
) +
geom_function(
fun = example_solution_2,
col = "green4",
xlim = c(-5, 3.2)
)
plot_solution_curve <- function(fun, equation, xlim, label_t){
geom_function(
fun = func,
col = "green4",
xlim = xlim,
) +
annotate(
"curve",
x = label_t,
y = fun(label_t),
label = TeX(glue("${equation}$"))
)
}
plot_direction_field(c(-5, 5), c(-3, 3), diff_eq, "y' = y") +
plot_solution_curve(example_solution_1, "y = 2e^t", c(-5, 0.5), 0.5) +
plot_solution_curve(example_solution_2, "y = -e^{t - 2}", c(-5, 3.2), 3)
plot_direction_field(c(-5, 5), c(-3, 3), diff_eq, "y' = y") +
plot_solution_curve(example_solution_1, "y = 2e^t", c(-5, 0.5), 0.5)
plot_solution_curve <- function(fun, equation, xlim, label_t){
geom_function(
fun = func,
col = "green4",
xlim = xlim,
) +
annotate(
"curve",
x = label_t,
y = fun(label_t),
label = TeX(glue("${equation}$"))
)
}
example_solution_1 <- function(t) {
2 * exp(t)
}
plot_solution_curve <- function(fun, equation, xlim, label_t){
geom_function(
fun = func,
col = "green4",
xlim = xlim,
) +
annotate(
"curve",
x = label_t,
y = fun(label_t),
label = TeX(glue("${equation}$"))
)
}
plot_direction_field(c(-5, 5), c(-3, 3), diff_eq, "y' = y") +
plot_solution_curve(example_solution_1, "y = 2e^t", c(-5, 0.5), 0.5)
example_solution_1 <- function(t) {
2 * exp(t)
}
plot_direction_field(c(-5, 5), c(-3, 3), diff_eq, "y' = y") +
geom_function(
fun = example_solution_1(),
col = "green4",
xlim = xlim,
) +
annotate(
"curve",
x = 0.5,
y = example_solution_1(x),
label = TeX(glue("$y = 2e^t$"))
)
example_solution_1 <- function(t) {
2 * exp(t)
}
plot_direction_field(c(-5, 5), c(-3, 3), diff_eq, "y' = y") +
geom_function(
fun = example_solution_1(),
col = "green4",
xlim = xlim,
) +
annotate(
"curve",
x = 0.5,
y = example_solution_1(0.5),
label = TeX(glue("$y = 2e^t$"))
)
example_solution_1 <- function(t) {
2 * exp(t)
}
plot_direction_field(c(-5, 5), c(-3, 3), diff_eq, "y' = y") +
geom_function(
fun = example_solution_1,
col = "green4",
xlim = xlim,
) +
annotate(
"curve",
x = 0.5,
y = example_solution_1(x),
label = TeX(glue("$y = 2e^t$"))
)
example_solution_1 <- function(t) {
2 * exp(t)
}
plot_direction_field(c(-5, 5), c(-3, 3), diff_eq, "y' = y") +
geom_function(
fun = example_solution_1,
col = "green4",
xlim = xlim,
) +
annotate(
"curve",
x = 0.5,
y = example_solution_1(0.5),
label = TeX(glue("$y = 2e^t$"))
)
plot_direction_field(c(-5, 5), c(-3, 3), diff_eq, "y' = y") +
geom_function(
fun = example_solution_1,
col = "green4",
xlim = xlim,
) +
annotate(
"text",
x = 0.5,
y = example_solution_1(0.5),
label = TeX("$y = 2e^t$")
)
plot_direction_field(c(-5, 5), c(-3, 3), diff_eq, "y' = y") +
geom_function(
fun = example_solution_1,
col = "green4",
xlim = xlim,
)
plot_direction_field(c(-5, 5), c(-3, 3), diff_eq, "y' = y") +
geom_function(
fun = example_solution_1,
col = "green4",
xlim = c(-5, log(3 / 2)),
) +
annotate(
"text",
x = 0.5,
y = example_solution_1(0.5),
label = TeX("$y = 2e^t$")
)
geom_function(
fun = example_solution_2,
col = "skyblue3",
xlim = c(-5, -log(-3) + 2)
) +
annotate(
"text",
x = 3,
y = example_solution_2(3),
label = TeX("$y = -e^{t - 2}$")
)
geom_function(
fun = example_solution_2,
col = "skyblue3",
xlim = c(-5, log(3) + 2)
) +
annotate(
"text",
x = 3,
y = example_solution_2(3),
label = TeX("$y = -e^{t - 2}$")
)
plot_direction_field(c(-5, 5), c(-3, 3), diff_eq, "y' = y") +
geom_function(
fun = example_solution_1,
col = "green4",
xlim = c(-5, log(3 / 2)),
) +
annotate(
"text",
x = 0.5,
y = example_solution_1(0.5),
label = TeX("$y = 2e^t$")
) +
geom_function(
fun = example_solution_2,
col = "skyblue3",
xlim = c(-5, -log(-3) + 2)
) +
annotate(
"text",
x = 3,
y = example_solution_2(3),
label = TeX("$y = -e^{t - 2}$")
)
plot_direction_field(c(-5, 5), c(-3, 3), diff_eq, "y' = y") +
geom_function(
fun = example_solution_1,
col = "green4",
xlim = c(-5, log(3 / 2)),
) +
annotate(
"text",
x = 0.5,
y = example_solution_1(0.5),
label = TeX("$y = 2e^t$")
) +
geom_function(
fun = example_solution_2,
col = "skyblue3",
xlim = c(-5, log(3) + 2)
) +
annotate(
"text",
x = 3,
y = example_solution_2(3),
label = TeX("$y = -e^{t - 2}$")
)
plot_direction_field(c(-5, 5), c(-3, 3), diff_eq, "y' = y") +
geom_function(
fun = example_solution_1,
col = "green4",
xlim = c(-5, log(3 / 2)),
) +
annotate(
"text",
x = 0.5,
y = example_solution_1(0.5),
label = TeX("$y = 2e^t$")
) +
geom_function(
fun = example_solution_2,
col = "turquoise4",
xlim = c(-5, log(3) + 2)
) +
annotate(
"text",
x = 3,
y = example_solution_2(3),
label = TeX("$y = -e^{t - 2}$")
)
plot_direction_field(c(-5, 5), c(-3, 3), diff_eq, "y' = y") +
geom_function(
fun = example_solution_1,
col = "green4",
xlim = c(-5, log(3 / 2)),
) +
annotate(
"text",
x = 0.5,
y = example_solution_1(0.5),
label = TeX("$y = 2e^t$")
) +
geom_function(
fun = example_solution_2,
col = "dodgerblue4",
xlim = c(-5, log(3) + 2)
) +
annotate(
"text",
x = 3,
y = example_solution_2(3),
label = TeX("$y = -e^{t - 2}$")
)
plot_direction_field(c(-5, 5), c(-3, 3), diff_eq, "y' = y") +
geom_function(
fun = example_solution_1,
col = "green4",
xlim = c(-5, log(3 / 2)),
) +
annotate(
"text",
x = 0.5,
y = example_solution_1(0.5),
label = TeX("$y = 2e^t$")
) +
geom_function(
fun = example_solution_2,
col = "dodgerblue3",
xlim = c(-5, log(3) + 2)
) +
annotate(
"text",
x = 3,
y = example_solution_2(3),
label = TeX("$y = -e^{t - 2}$")
)
plot_direction_field(c(-5, 5), c(-3, 3), diff_eq, "y' = y") +
geom_function(
fun = example_solution_1,
col = "green4",
xlim = c(-5, log(3 / 2)),
linewidth = 2.5
) +
annotate(
"text",
x = 0.5,
y = example_solution_1(0.5),
label = TeX("$y = 2e^t$")
) +
geom_function(
fun = example_solution_2,
col = "dodgerblue3",
xlim = c(-5, log(3) + 2),
linewidth = 2.5
) +
annotate(
"text",
x = 3,
y = example_solution_2(3),
label = TeX("$y = -e^{t - 2}$")
)
plot_direction_field(c(-5, 5), c(-3, 3), diff_eq, "y' = y") +
geom_function(
fun = example_solution_1,
col = "green4",
xlim = c(-5, log(3 / 2)),
linewidth = 2
) +
annotate(
"text",
x = 0.5,
y = example_solution_1(0.5),
label = TeX("$y = 2e^t$")
) +
geom_function(
fun = example_solution_2,
col = "dodgerblue3",
xlim = c(-5, log(3) + 2),
linewidth = 2
) +
annotate(
"text",
x = 3,
y = example_solution_2(3),
label = TeX("$y = -e^{t - 2}$")
)
plot_direction_field(c(-5, 5), c(-3, 3), diff_eq, "y' = y") +
geom_function(
fun = example_solution_1,
col = "green4",
xlim = c(-5, log(3 / 2)),
linewidth = 1
) +
annotate(
"text",
x = 0.5,
y = example_solution_1(0.5),
label = TeX("$y = 2e^t$")
) +
geom_function(
fun = example_solution_2,
col = "dodgerblue3",
xlim = c(-5, log(3) + 2),
linewidth = 1
) +
annotate(
"text",
x = 3,
y = example_solution_2(3),
label = TeX("$y = -e^{t - 2}$")
)
plot_direction_field(c(-5, 5), c(-3, 3), diff_eq, "y' = y") +
geom_function(
fun = example_solution_1,
col = "green4",
xlim = c(-5, log(3 / 2)),
linewidth = 0.9
) +
annotate(
"text",
x = 0.5,
y = example_solution_1(0.5),
label = TeX("$y = 2e^t$")
) +
geom_function(
fun = example_solution_2,
col = "dodgerblue3",
xlim = c(-5, log(3) + 2),
linewidth = 0.9
) +
annotate(
"text",
x = 3,
y = example_solution_2(3),
label = TeX("$y = -e^{t - 2}$")
)
library(roxygen2)
a <- c(1, 2)
type(a)
typing(a)
typeof(a)
a <- c(1, 2, 3, 2)
typeof(a)
diff_eq <- function(v) {
t <- v[1]
y <- v[2]
dt <- 1
dy <- y
return(c(dt, dy))
}
typeof(diff_eq)
library(ggplot2)
library(ggvfields)
library(latex2exp)
library(glue)
library(dplyr)
library(tidyverse)
library(roxygen2)
#' Plot a direction field
#'
#' Creates a plot of the direction field of an ordinary differential equation
#'
#' @param xlim the x-axis bounds of the graph; double of length 2
#' @param ylim the y-axis bounds of the graph; double of length 2
#' @param fun function for the ODE
#' @param equation string representing the ODE, written with MathJax syntax
#'
#' @return None
#'
#' @export
plot_direction_field <- function(xlim, ylim, fun, equation) {
ggplot() +
geom_vector_field(
show.legend = FALSE,
fun = fun,
xlim = xlim,
ylim = ylim,
L = 0.8,
arrow = grid::arrow(length = unit(0, "npc")),
col = "dodgerblue4",
linewidth = 2,
) +
labs(
title = TeX(glue("Direction Field: ${equation}$")),
x = "t",
y = "y"
) +
theme(
plot.title = element_text(hjust = 0.5, family = "mono")
) +
geom_vline(
xintercept = 0,
linetype = "solid",
color = "black"
) +
geom_hline(
yintercept = 0,
linetype = "solid",
color = "black"
)
}
#' Plot a direction field
#'
#' Create a plot of the direction field of an ordinary differential equation
#'
#' @param xlim the x-axis bounds of the graph; double of length 2
#' @param ylim the y-axis bounds of the graph; double of length 2
#' @param fun function for the ODE
#' @param equation string representing the ODE, written with MathJax syntax
#'
#' @return None
#'
#' @example
#'
#' example_ODE <- function(v) {
#'  t <- v[1]
#'  y <- v[2]
#'  dt <- t
#'  dy <- -y
#'  return(c(dt, dy))
#' }
#'
#' plot_direction_field(c(-10, 10), c(-5, 5), example_ode, "y' = \frac{-y}{t}")
#'
#' @export
plot_direction_field <- function(xlim, ylim, fun, equation) {
ggplot() +
geom_vector_field(
show.legend = FALSE,
fun = fun,
xlim = xlim,
ylim = ylim,
L = 0.8,
arrow = grid::arrow(length = unit(0, "npc")),
col = "dodgerblue4",
linewidth = 2,
) +
labs(
title = TeX(glue("Direction Field: ${equation}$")),
x = "t",
y = "y"
) +
theme(
plot.title = element_text(hjust = 0.5, family = "mono")
) +
geom_vline(
xintercept = 0,
linetype = "solid",
color = "black"
) +
geom_hline(
yintercept = 0,
linetype = "solid",
color = "black"
)
}
devtools::document()
roxygen2::roxygenise()
